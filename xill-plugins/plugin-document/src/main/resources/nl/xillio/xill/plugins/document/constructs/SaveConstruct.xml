<?xml version="1.0" encoding="utf-8"?>
<function>
    <description>
        Save a document to the database.
        This construct will create a new document if the index of the document has not been set. If an id has already been
        set the document will be updated.
        This construct will validate the document to it's content type before saving it.
    </description>
    <examples>
        <example title="Usage">
            <header>Make a change to a document</header>
            <code>
                use Document;

                // Fetch the document
                var doc = Document.get("7ece5644-8d36-4937-b95b-285804598729");

                // Prepend a title
                doc.target.current.author.name ::= "Sir ";

                // Save the document
                Document.save(doc);
            </code>

            <header>Create a new document</header>
            <code>
                use Document;

                // Build the document
                var doc = Document.new(
                    "CustomPage",
                    {
                        "version": 2,
                        "user": {
                            "id": 54,
                            "username": "lancelot34",
                            "password": "IAmASafePassword"
                        }
                    }
                );

                // Save the document
                Document.save(doc);
            </code>
        </example>
    </examples>
    <references>
        <reference>ContentType.save</reference>
        <reference>ContentType.document</reference>
        <reference>new</reference>
        <reference>get</reference>
    </references>
    <tags>
        udm, persist, define, save, create, update
    </tags>
</function>
