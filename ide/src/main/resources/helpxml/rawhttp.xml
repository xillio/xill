<?xml version="1.0" encoding="utf-8"?>
<function Tag="rawhttp">
  <name>rawhttp</name>
  <parameters>
    <param name="method,">
      <type>string</type>
    </param>
    <param name="url,">
      <type>string</type>
    </param>
    <param name="contenttype,">
      <type>string</type>
    </param>
    <param name="body ,">
      <type>string</type>
    </param>
    <param name="parameters ,">
      <type>list</type>
    </param>
    <param name="headers ">
      <type>list</type>
    </param>
  </parameters>
  <description><![CDATA[Performs a custom http action, enabling you to make a call to a SOAP or REST web service. url is the URL of the web service. method is typically 'GET' or 'POST'. contenttype must be set to 'text/xml' for SOAP calls.body, parameters and headers are optional string/list parameters which will be passed on with the request where needed. In case of a SOAP request using the POST method the string body is mandatory and would contain the request XML.]]></description>
  <examples>
    <example description="Calling a RESTful webservice (the Google distance API):"><![CDATA[result = rawhttp ("GET",
  "http://maps.googleapis.com/maps/api/distancematrix/xml?origins=Vancouver+BC|Seattle&destinations=San+Francisco|Vancouver+BC&mode=bicycling&language=en-EN&units=metric&sensor=false",
  "text/xml");
]]></example>
    <example description="log (result);"><![CDATA[]]></example>
    <example description="will print something like:"><![CDATA[<DistanceMatrixResponse>
  <status>
    OK
  </status>
  <origin_address>
    Vancouver, BC, Canada
  </origin_address>
  <origin_address>
    Seattle, WA, USA
  </origin_address>
]]></example>
    <example description="  //...//"><![CDATA[]]></example>
    <example description="  &lt;row&gt;"><![CDATA[    <element>
      <status>
        OK
      </status>
      <duration>
        <value>
          335741
        </value>
        <text>
          3 days 21 hours
        </text>
      </duration>
      <distance>
        <value>
          1683260
        </value>
        <text>
          1,683 km
        </text>
      </distance>
    </element>
]]></example>
    <example description="    //...//"><![CDATA[]]></example>
    <example description="  &lt;/row&gt;"><![CDATA[</DistanceMatrixResponse>
]]></example>
    <example description="Getting the id for a GX page (a type of CMS) using SOAP:"><![CDATA[get_gxid = routine (path, url) {
]]></example>
    <example description="    xml_getid = &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; ?&gt;"><![CDATA[                <Request action=\"getid\">
                <Path>"+ path +"</Path>
                </Request>";
    result = rawhttp("POST", url, "text/xml", xml_getid);
    log(result);
    gxid = regex(result, "(?s).*<GxId>(.*?)</GxId>.*");
    gxid_1 = gxid[1];
]]></example>
    <example description="    if (gxid_1 == null) {"><![CDATA[        log("---- ERROR: get null gxid. The given path is ["+ path +"]");
        return (null);
    }
    return (gxid_1);
}
]]></example>
  </examples>
  <Applications />
  <tags>
    <tag> cURL</tag>
    <tag>Browser</tag>
  </tags>
</function>