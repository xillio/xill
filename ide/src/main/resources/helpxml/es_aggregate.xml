<?xml version="1.0" encoding="utf-8"?>
<function Tag="es_aggregate">
  <name>es_aggregate</name>
  <parameters>
    <param name="index ,">
      <type>&lt;string,void&gt;</type>
    </param>
    <param name="type ,">
      <type>&lt;string,void&gt;</type>
    </param>
    <param name="aggregations,">
      <type>&lt;list,string&gt;</type>
    </param>
    <param name="client ">
      <type>string</type>
    </param>
  </parameters>
  <description><![CDATA[Searches a cluster client, with optionally an index or type for documents and applies the aggregations on the documents. You may specify either a list of aggregations or a single aggregation as a string.index and type are optional, but if you pass a type, you also have to pass an index. Make sure to pass the top-level aggregation as parameter (and not a child).]]></description>
  <examples>
    <example description="Getting statistics for the “price” field of all documents in the “literature” index:"><![CDATA[es_connect();
stats = es_statsagg("stats", "price");
results = es_aggregate("literature", null, stats);
log(results);
]]></example>
    <example description="might print:"><![CDATA[{
        stats = {
                min = 10,
                avg = 36.25,
                max = 70,
                count = 4,
                sum = 145
        }
}
]]></example>
  </examples>
  <Applications />
  <tags>
    <tag> es_filteragg, es_statsagg</tag>
    <tag>Elasticsearch</tag>
  </tags>
</function>