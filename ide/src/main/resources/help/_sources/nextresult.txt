-----
nextresult
-----

**nextresult (**\ *sqlresult* **result)**

Description
-----------

Tries to switch to the next SQL resultset. The ``result`` is variable returned from ``query`` function. It works for ``SELECT`` queries that returns multiple resultset.
The ``nextresult`` function returns ``true`` if there is another resultset and at the same time the content of the ``result`` variable is set to the data from the next resultset. If there is no next resultset the ``false`` is returned.  

Remarks
-------
When ``nextresult`` function returns ``false`` the original data in ``result`` variable can be inaccessible! 
Some JDBC drivers may not support multiple resultsets!

See also: :doc:`database`.

Examples
--------

-

    Loop through all resultsets:
    
    ::
    
        settings = global(callbot("bots/settings.sbot"));
        database(settings.db_host, settings.db_port, settings.db_name, settings.db_user, settings.db_pass);
        result = query("select * from dummy where id = 51; select * from dummy where id = 10;");
        
        while (true) {
            foreach(_, row, result) {
                log(row);
            }
            if (!nextresult(rs)) {
                break();
            }
        }

Tags
----

:doc:`_tag_database`