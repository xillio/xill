--------
loadpage
--------

**loadpage (**\ *string* **url,** *list* **options*)**

Description
-----------

Loads the webpage found at ``url`` and returns it as a page object. If loading fails the page object will contain an error code, which can be accessed using the function ``geterror``. Also note that it is possible and common to read files by calling ``loadpage`` with a url starting with ``file:///`` as the parameter. Usually it is a good idea to reduce loading time by setting up the options to ``({"enablecss"=false, "enablejs"=false})`` when calling ``loadpage``. This deactivates Javascript and CSS and can reduce long waits for script timeouts.

Details
-------

The argument ``options`` is a list which may contain one or more of the following values: 

================   ===============
option             values
================   ===============
browser            [PHANTOMJS] (default: PHANTOMJS)
proxyhost          <hostname or ip> (required for using a proxy)
proxyport          <hostport> (required for using a proxy)
proxyuser          <username> (optional)
proxypass          <password> (optional)
proxytype          [http,socks5] (default: http)
enablejs           [true,false] (default: true)
enablewebsecurity  [true,false] (default: true)
loadimages         [true,false] (default: true)
insecuressl        [true,false] (default:false)
user               <username> (required for HTTP authentication)
pass               <password> (required for HTTP authentication)
timeout            <timeoutvalue> (in milliseconds)

================   ===============

Example
-------

-   
    
    Loop through menu on a webpage and store all navigation items:
    
    ::

        homeurl = "http://www.xillio.com/";

        page = loadpage (homeurl, {"enablecss"=false, "enablejs"=false});
        mainmenutitles = xpath (page, "//ul[@class='active-branch']/li/a/text()");
        mainmenuurls = xpath (page, "//ul[@class='active-branch']/li/a/@href");

        foreach (numberinlevel, mainmenuurl, mainmenuurls) {
            log(mainmenutitles[numberinlevel] + " (" + mainmenuurls[numberinlevel] + ")");
        }
    
Tags
----

:doc:`_tag_browser`