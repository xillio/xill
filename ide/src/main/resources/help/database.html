
<html>
<head>
	<link href="_static/default.css" rel="stylesheet" type="text/css" />
</head>
    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="database">
<h1>database</h1>
<p><strong>database (</strong><em>&lt;string,void&gt;</em> <strong>host,</strong> <em>&lt;number,void&gt;</em> <strong>port,</strong> <em>string</em> <strong>database,</strong> <em>&lt;string,void&gt;</em> <strong>user,</strong> <em>&lt;string,void&gt;</em> <strong>pass,</strong> <em>&lt;string,void&gt;</em> <strong>type*)</strong></p>
<div class="section" id="description">
<h2>Description</h2>
<p>Sets up a database connection to the provided <code class="docutils literal"><span class="pre">host</span></code> and <code class="docutils literal"><span class="pre">database</span></code> at port <code class="docutils literal"><span class="pre">port</span></code> with the given username <code class="docutils literal"><span class="pre">user</span></code> and password <code class="docutils literal"><span class="pre">pass</span></code>. Returns a <code class="docutils literal"><span class="pre">connectionstring</span></code> which can be used to identify this connection for use in queries. <code class="docutils literal"><span class="pre">type</span></code> is an optional parameter declaring the type of database. This defaults to <code class="docutils literal"><span class="pre">&quot;mysql&quot;</span></code>. Supported types are: <code class="docutils literal"><span class="pre">mysql</span></code> (and Maria DB), <code class="docutils literal"><span class="pre">sqlite</span></code>, <code class="docutils literal"><span class="pre">mssql</span></code> (and SQL Express), <code class="docutils literal"><span class="pre">oraclesid</span></code> or <code class="docutils literal"><span class="pre">oracleservicename</span></code>. MongoDB and Elastic Search are supported by separate commands.</p>
<p>See also <a class="reference internal" href="mongo_connect.html"><em>mongo_connect</em></a>, <a class="reference internal" href="es_connect.html"><em>es_connect</em></a>.</p>
</div>
<div class="section" id="mysql-and-maria-db">
<h2>MySQL and Maria DB</h2>
<div class="highlight-python"><div class="highlight"><pre>settings = {
    &quot;db_host&quot; = &quot;localhost&quot;,
    &quot;db_port&quot; = 3306,
    &quot;db_name&quot; = &quot;xilliodb&quot;,
    &quot;db_user&quot; = &quot;john&quot;,
    &quot;db_pass&quot; = &quot;youwouldlovetoknow&quot;
}
database(settings.db_host, settings.db_port, settings.db_name, settings.db_user, settings.db_pass, &quot;mysql&quot;);
</pre></div>
</div>
<p>Returned MySQL connection string format is: <code class="docutils literal"><span class="pre">jdbc:mysql://$HOST:$PORT/$DBNAME?user=$USER&amp;password=$PASS&amp;characterEncoding=utf8&amp;allowMultiQueries=true</span></code></p>
</div>
<div class="section" id="sqlite">
<h2>SQLite</h2>
<p>To work with SQLite a local path must be specified in the <code class="docutils literal"><span class="pre">database</span></code> parameter. If the file doesn&#8217;t exist then it will be created as a new database, otherwise a connection will be made.</p>
<div class="highlight-python"><div class="highlight"><pre>settings = {
    &quot;db_host&quot; = &quot;&quot;,
    &quot;db_port&quot; = 0,
    &quot;db_name&quot; = &quot;C:/projects/sampleDB.sqlite&quot;,
    &quot;db_user&quot; = &quot;&quot;,
    &quot;db_pass&quot; = &quot;&quot;
}
database(settings.db_host, settings.db_port, settings.db_name, settings.db_user, settings.db_pass, &quot;sqlite&quot;);
</pre></div>
</div>
<p>Returned SQLite connection string format is: <code class="docutils literal"><span class="pre">jdbc:sqlite:$DBNAME</span></code></p>
</div>
<div class="section" id="ms-sql-server-and-sql-express">
<h2>MS SQL Server and SQL Express</h2>
<p>When working with SQL Server/Express verify the port used for the TCP connection as this can be dynamic. This can be checked in the Server Configuration Manager &gt; SQL Server Network Configuration &gt; Protocols for SQLEXPRESS &gt; TCP/IP.</p>
<div class="highlight-python"><div class="highlight"><pre>settings = {
    db_host = &quot;localhost&quot;,
    db_port = 1433,
    db_name = &quot;xilliodb&quot;,
    db_user = &quot;sa&quot;,
    db_pass = &quot;sa_password&quot;
};
database(settings.db_host, settings.db_port, settings.db_name, settings.db_user, settings.db_pass,&quot;mssql&quot;);
</pre></div>
</div>
<p>Returned SQL Server connection string format is: <code class="docutils literal"><span class="pre">jdbc:sqlserver://$HOST:$PORT;databaseName=$DBNAME;user=$USER;password=$PASS</span></code></p>
</div>
<div class="section" id="oracle-service-name">
<h2>Oracle service name</h2>
<p>Below is a snippet for connecting to an Oracle instance, using the newer service name method, as used by Alfresco for example.</p>
<div class="highlight-python"><div class="highlight"><pre>settings = {
    &quot;db_host&quot; = &quot;rac-136-scan.corp.com&quot;,
    &quot;db_port&quot; = 1521,
    &quot;db_name&quot; = &quot;ODIT101.world&quot;,
    &quot;db_user&quot; = &quot;alfres_r&quot;,
    &quot;db_pass&quot; = &quot;mhhkvwefghgiulipu&quot;
};
database(settings.db_host, settings.db_port, settings.db_name, settings.db_user, settings.db_pass, &quot;oracleservicename&quot;);
</pre></div>
</div>
<p>Returned Oracle connection string format is: <code class="docutils literal"><span class="pre">jdbc:oracle:thin:$USER/$PASS&#64;//$HOST:$PORT/$DBNAME</span></code></p>
</div>
<div class="section" id="oracle-service-id">
<h2>Oracle service id</h2>
<p>The older Oracle service id (SID) based connection strings are supported.</p>
<div class="highlight-python"><div class="highlight"><pre>settings = {
    &quot;db_host&quot; = &quot;rac-136-scan.corp.com&quot;,
    &quot;db_port&quot; = 1521,
    &quot;db_name&quot; = &quot;xilliodb&quot;,
    &quot;db_user&quot; = &quot;john&quot;,
    &quot;db_pass&quot; = &quot;youwouldlovetoknow&quot;
};
database(settings.db_host, settings.db_port, settings.db_name, settings.db_user, settings.db_pass, &quot;oraclesid&quot;);
</pre></div>
</div>
<p>Returned Oracle connection string format is: <code class="docutils literal"><span class="pre">jdbc:oracle:thin:$USER/$PASS&#64;$HOST:$PORT:$DBNAME</span></code></p>
</div>
<div class="section" id="tags">
<h2>Tags</h2>
<p><a class="reference internal" href="_tag_database.html"><em>Database</em></a></p>
</div>
</div>


          </div>
      </div>

      <div class="clearer"></div>
    </div>
</html>