
<html>
<head>
	<link href="_static/default.css" rel="stylesheet" type="text/css" />
</head>
    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="include">
<h1>include</h1>
<p><strong>include (</strong><em>&lt;string,list&gt;</em> <strong>libraries)</strong></p>
<div class="section" id="description">
<h2>Description</h2>
<p>Includes the listed library or libraries without executing any code. <code class="docutils literal"><span class="pre">libraries</span></code> is a string containing one file uri or a list containing several strings with file uri&#8217;s. After including a library the routines inside that library become part of the current robot.</p>
<p>See also <a class="reference internal" href="callbot.html"><em>callbot</em></a></p>
</div>
<div class="section" id="examples">
<h2>Examples</h2>
<ul>
<li><p class="first">Executing the following code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">include</span> <span class="p">(</span><span class="s">&quot;testbots/routines.sbot&quot;</span><span class="p">);</span>

<span class="n">log</span> <span class="p">(</span><span class="n">cleanurlsimple</span><span class="p">(</span><span class="s">&quot;www.xillio.com/#main?parameter=test&quot;</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">true</span><span class="p">));</span>
</pre></div>
</div>
<p>will print:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">www</span><span class="o">.</span><span class="n">xillio</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>Assuming we have a text file <code class="docutils literal"><span class="pre">routines.sbot</span></code>, which contains the following:</p>
<div class="highlight-python"><div class="highlight"><pre>cleanurlsimple = routine(url, stripanchors, stripvars) {
    if (stripanchors == true) {
        url = replace(url, &quot;#.*&quot;, &quot;&quot;); // strip anchors
    }
    if (stripvars == true) {
        url = replace(url, &quot;\?.*|\&amp;.*|target=.*&quot;, &quot;&quot;); // strip appended variables
    }
    url = replace(url, &quot;/$&quot;, &quot;&quot;); // strip trailing slash
    url = urldecode(url);

    return(url);
}

geturl = routine (url) {
    // gets the url from a loadpage errormessage (assumes it is at the end of the message)
    result = regex (url, &quot;.*(https?://.*$)|.*(www\\..*$)&quot;);
    if (variabletype (result) == &quot;list&quot;) {
        return (result [1]);
    }
    return (null);
}
</pre></div>
</div>
</li>
<li><p class="first">We could also include the above code as two separate libraries, by splitting them into two separate files <code class="docutils literal"><span class="pre">cleanurl.sbot</span></code> and <code class="docutils literal"><span class="pre">geturl.sbot</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">include</span> <span class="p">({</span><span class="s">&quot;testbots/cleanurl.sbot&quot;</span><span class="p">,</span> <span class="s">&quot;testbots/geturl.sbot&quot;</span><span class="p">});</span>
</pre></div>
</div>
<p>Note that the latter is probably the most modular and maintainable way of including routines, while the former seems more convenient.</p>
</li>
</ul>
</div>
<div class="section" id="tags">
<h2>Tags</h2>
<p><a class="reference internal" href="_tag_language.html"><em>Language</em></a></p>
</div>
</div>


          </div>
      </div>

      <div class="clearer"></div>
    </div>
</html>