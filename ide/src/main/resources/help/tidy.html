
<html>
<head>
	<link href="_static/default.css" rel="stylesheet" type="text/css" />
</head>
    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="tidy">
<h1>tidy</h1>
<p><strong>tidy (</strong><em>&lt;string,node&gt;</em> <strong>content,</strong> <em>list</em> <strong>options*)</strong></p>
<div class="section" id="description">
<h2>Description</h2>
<p>Cleans the HTML code in string <code class="docutils literal"><span class="pre">content</span></code>. Returns output and an error log. The optional parameter <code class="docutils literal"><span class="pre">options</span></code> is a list with one or more options stored as strings.</p>
</div>
<div class="section" id="details">
<h2>Details</h2>
<p>The following options are available:</p>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">option</th>
<th class="head">default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>clean</td>
<td>true</td>
</tr>
<tr class="row-odd"><td>cleanbackslashurls</td>
<td>true</td>
</tr>
<tr class="row-even"><td>cleanfixcomments</td>
<td>true</td>
</tr>
<tr class="row-odd"><td>cleanmicrosoft</td>
<td>true</td>
</tr>
<tr class="row-even"><td>cleanword2000</td>
<td>false</td>
</tr>
<tr class="row-odd"><td>inputencoding</td>
<td>UTF-8</td>
</tr>
<tr class="row-even"><td>inputxml</td>
<td>false</td>
</tr>
<tr class="row-odd"><td>outputencoding</td>
<td>UTF-8</td>
</tr>
<tr class="row-even"><td>outputindent</td>
<td>true</td>
</tr>
<tr class="row-odd"><td>outputraw</td>
<td>true</td>
</tr>
<tr class="row-even"><td>outputxhtml</td>
<td>true</td>
</tr>
<tr class="row-odd"><td>outputxml</td>
<td>false</td>
</tr>
<tr class="row-even"><td>wraplength</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example">
<h2>Example</h2>
<ul>
<li><p class="first">Given the HTML-file <code class="docutils literal"><span class="pre">untidy.html</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;html&gt;
    &lt;body&gt;
        &lt;p&gt;here is a para &lt;b&gt;bold &lt;i&gt;bold italic&lt;/b&gt; bold?&lt;/i&gt; normal?
        &lt;li&gt;1st list item
        &lt;li&gt;2nd list item
    &lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
<p>Executing the following code for getting the cleaned body content:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">page</span> <span class="o">=</span> <span class="n">loadpage</span><span class="p">(</span><span class="s">&quot;file://c:/tmp/untidy.html&quot;</span><span class="p">);</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">regex</span><span class="p">(</span><span class="n">tidy</span><span class="p">(</span><span class="n">page</span><span class="p">),</span> <span class="s">&quot;[\s\S]*?&lt;body&gt;([\s\S]*)&lt;/body&gt;[\s\S]*&quot;</span><span class="p">);</span>
<span class="n">log</span><span class="p">(</span><span class="n">content</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</pre></div>
</div>
<p>will print:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;p&gt;here is a para &lt;b&gt;bold &lt;i&gt;bold italic&lt;/i&gt;&lt;/b&gt; &lt;i&gt;bold?&lt;/i&gt; normal?&lt;/p&gt;

&lt;ul class=&quot;noindent&quot;&gt;
  &lt;li&gt;1st list item&lt;/li&gt;

  &lt;li&gt;2nd list item&lt;/li&gt;
&lt;/ul&gt;
</pre></div>
</div>
</li>
<li><p class="first">Using options:</p>
<div class="highlight-python"><div class="highlight"><pre>page = loadpage(&quot;file://c:/tmp/untidy.html&quot;);
content = tidy(page, {outputindent = false, outputraw = false});
log(content);
</pre></div>
</div>
<p>will print:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
&lt;meta name=&quot;generator&quot; content=&quot;HTML Tidy for Java (vers. 2009-12-01), see jtidy.sourceforge.net&quot; /&gt;
&lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;here is a para &lt;b&gt;bold &lt;i&gt;bold italic&lt;/i&gt;&lt;/b&gt; &lt;i&gt;bold?&lt;/i&gt; normal?&lt;/p&gt;
&lt;ul class=&quot;noindent&quot;&gt;
&lt;li&gt;1st list item&lt;/li&gt;
&lt;li&gt;2nd list item&lt;/li&gt;
&lt;/ul&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="tags">
<h2>Tags</h2>
<p><a class="reference internal" href="_tag_text.html"><em>Text</em></a>, <a class="reference internal" href="_tag_xmlhtml.html"><em>XML / HTML</em></a></p>
</div>
</div>


          </div>
      </div>

      <div class="clearer"></div>
    </div>
</html>